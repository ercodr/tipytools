import{r as s,j as e}from"./index-a4150e31.js";import{i as f}from"./axiosConfig-64164510.js";const j=()=>{const t=s.useRef(),[i,u]=s.useState(""),[d,a]=s.useState(!1),[c,m]=s.useState(!1),[n,r]=s.useState({}),b=l=>{l.preventDefault(),a(!0);const x={username:t.current.username.value,email:t.current.email.value,phone:t.current.phone.value,tech_stack:t.current.techstack.value,location:t.current.location.value,by_invitation:t.current.by_invitation.value==="true",referral_source:i==="other"?t.current.other_referral_source.value:t.current.referral_source.value};f.post("/member/",x).then(o=>{o.status===201&&(r({status:"201",content:"Congratulations on joining Tipytools! Welcome to our community of knowledge and tips. We're excited to have you on board. Explore, connect, and enjoy the journey!!"}),t.current.reset()),a(!1),document.getElementById("my_modal_5").showModal()}).catch(o=>{o.response.status===404?r({status:"404",content:"Github user not found!"}):o.response.status===400?r({status:"400",content:o.response.data.username}):r({status:o.response.status,content:JSON.stringify(o.response.data)}),a(!1),document.getElementById("my_modal_5").showModal(),console.log(o)})};return e.jsxs("div",{className:"center w-full lg:w-1/2 xl:w-5/12 px-4",children:[e.jsx("dialog",{id:"my_modal_5",className:"modal modal-bottom sm:modal-middle",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg text-success",children:n&&n.status}),e.jsx("p",{className:"py-4",children:n&&n.content}),e.jsx("div",{className:"modal-action",children:e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm md:btn-md",children:"OK"})})})]})}),e.jsx("h3",{className:"text-center my-4 text-xl font-bold",children:"To be part of our amazing team, fill the form below!"}),e.jsx("div",{className:"bg-white relative rounded-lg p-8 sm:p-12 shadow-lg",children:e.jsxs("form",{method:"POST",ref:t,onSubmit:b,children:[e.jsx("div",{className:"mb-6",children:e.jsx("input",{required:!0,name:"username",type:"text",placeholder:"Github username",className:" w-full rounded py-3 px-[14px] text-body-color text-base border border-[f0f0f0] outline-none focus-visible:shadow-none focus:border-info "})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{required:!0,name:"email",type:"email",placeholder:"Email",className:"w-full rounded py-3 px-[14px] text-body-color text-base border border-[f0f0f0] outline-none focus-visible:shadow-none focus:border-info "})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{required:!0,name:"phone",type:"tel",placeholder:"Phone",className:"w-full rounded py-3 px-[14px] text-body-color text-base border border-[f0f0f0] outline-none focus-visible:shadow-none focus:border-info "})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{required:!0,name:"techstack",type:"text",placeholder:"Tech Stack e.g. Python, Django, React",className:"w-full rounded py-3 px-[14px] text-body-color text-base border border-[f0f0f0] outline-none focus-visible:shadow-none focus:border-info "})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{required:!0,name:"location",type:"text",placeholder:"Location",className:"w-full rounded py-3 px-[14px] text-body-color text-base border border-[f0f0f0] outline-none focus-visible:shadow-none focus:border-info "})}),e.jsx("div",{className:"border rounded mb-4 py-1 px-2",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsxs("span",{className:"label-text",children:["Click here if you've been invited"," "]}),e.jsx("input",{type:"checkbox",name:"by_invitation",onChange:()=>m(!c),className:"checkbox",value:c})]})}),e.jsx("div",{className:"w-full",children:e.jsxs("select",{name:"referral_source",onChange:l=>u(l.target.value),required:!0,defaultValue:"label",className:"select select-bordered rounded focus:outline-0 w-full mb-4 ",children:[e.jsx("option",{disabled:!0,value:"label",children:"How did you hear about us?"}),e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"search_engine",children:"Search engine"}),e.jsx("option",{value:"twitter",children:"Twitter"}),e.jsx("option",{value:"friends",children:"Friends"}),e.jsx("option",{value:"other",children:"Other"})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{maxLength:125,name:"other_referral_source",required:!0,type:i==="other"?"text":"hidden",placeholder:"Write how you heard about us",className:"w-full rounded py-3 px-[14px] text-body-color text-base border border-[f0f0f0] outline-none focus-visible:shadow-none focus:border-info "})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:`${d?"btn-disabled":""} w-full flex items-center justify-center text-white bg-neutral rounded border border-neutral-focus p-3 transition hover:bg-opacity-90`,children:d?e.jsx("span",{className:"loading"}):e.jsx("span",{children:"Register"})})})]})})]})};export{j as default};
